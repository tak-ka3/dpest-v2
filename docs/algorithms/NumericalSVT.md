# NumericalSVT

## アルゴリズムの説明

NumericalSVTは、数値的なSparse Vector Techniqueの実装です。

**プライバシー保証**: 理論的には $0.10$ -DPを満たします。

**隣接性の定義**: $\|\cdot\|_\infty$ （L∞ノルム）
- 2つのデータベース $D_1, D_2$ が隣接： $\max_i |D_1[i] - D_2[i]| \leq 1$ （各要素が最大1の変化）

## モード

**サンプリングモード**

## プライバシー損失結果

| 項目 | 値 |
|------|-----|
| 入力サイズ | 10 |
| 推定 ε | inf |
| 理論 ε | 0.10 |
| 誤差 | プライバシー違反を検出 |
| 実行時間 | 57.76秒 |

**データソース**: `docs/privacy_loss_report.md`

**解釈**: 無限大のプライバシー損失が検出されていますが、これはアルゴリズムの問題ではなく、**DPESTのサンプリングモードの限界**を示しています。サンプル数が不足しているため、片方の隣接データベースでは特定のビンにサンプルが含まれるが、もう一方では含まれないという状況が発生し、確率比が無限大になっています。

## 理論的な計算量

**サンプリングモード**: $O(N \times m) = O(10^7)$ 演算

## 理論と実験結果の比較分析

### 比較: DP-Sniper vs StatDP vs DPEST

| 手法 | 推定 ε | 実行時間 |
|------|--------|----------|
| DP-Sniper | 0.035 | 120秒 |
| StatDP | 0.032 | 960秒 |
| DPEST | inf | 57.76秒 |

**結論**:
- **無限大の検出**: DPESTのサンプリングモードでは、サンプル数不足により特定のビンで片方のデータベースのみサンプルが存在する状況が発生し、無限大のプライバシー損失が誤って検出されました
- **サンプリングモードの課題**: 出力空間が離散的で広い場合、モンテカルロサンプリングでは全ての出力値を十分にカバーできず、確率比の推定が不安定になる
- **他手法との比較**: DP-SniperとStatDPは理論値0.10より小さい値（0.03-0.04）を推定
- **実行時間**: DPESTは2.1-17倍高速だが、推定精度に問題がある
