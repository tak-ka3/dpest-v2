# PrefixSum

## アルゴリズムの説明

PrefixSumは、差分プライバシーを保証するプレフィックス和（累積和）アルゴリズムです。入力ベクトルの累積和を計算し、各要素にLaplaceノイズを追加します。

**アルゴリズム**:
1. 入力ベクトル $x = (x_1, x_2, \ldots, x_m)$ を受け取る
2. 累積和 $s_i = \sum_{j=1}^{i} x_j$ を計算
3. 各累積和にLaplaceノイズを追加: $\tilde{s}_i = s_i + \text{Lap}(1/\varepsilon)$ **プライバシー保証**: 理論的には $0.10$ -差分プライバシーを満たすべきですが、実装に問題があります。

## モード

**サンプリングモード**

## プライバシー損失結果

| 項目 | 値 |
|------|-----|
| 入力サイズ | 10 |
| 推定 ε | inf |
| 理論 ε | 0.10 |
| 誤差 | プライバシー違反を検出 |
| 実行時間 | 123.84秒 |

**データソース**: `docs/privacy_loss_report.md`

**解釈**: DPESTは無限大のプライバシー損失を検出し、実装に問題があることを報告しています。

## 理論的な計算量

**サンプリングモード**: $O(N \times m) = O(10^7)$ 演算

## 理論と実験結果の比較分析

### 比較: DP-Sniper vs StatDP vs DPEST

| 手法 | 推定 ε | 実行時間 |
|------|--------|----------|
| DP-Sniper | 0.503 | 60秒 |
| StatDP | 0.348 | 2040秒 |
| DPEST | inf | 123.84秒 |

**結論**: DPESTはプライバシー違反を検出。他手法は有限値（0.35-0.50）を推定し、違反を見逃しています。実行時間はDP-Sniperより2.1倍遅いが、StatDPより16倍高速。
